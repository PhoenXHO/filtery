(function(t,i){if(typeof exports==="object"){module.exports=i(t)}else if(typeof define==="function"&&define.amd){define([],i)}else{t.t=i(t)}})(typeof global!=="undefined"?global:this.window||this.global,function(t){"use strict";if(typeof define==="function"&&define.amd){t=window}NodeList.prototype.filter=function(i){return Array.prototype.filter.call(this,function(t){return t.matches(i)})};var n;function Filtery(t,i){n=this;this.i={h:".item",o:"filter",u:"category",columns:3,gap:10,animationDuration:400,l:{}};this.m=document.querySelectorAll("#filter a");this.p=this.m.filter(".current")[0];this.g=t;this.v=this.g.querySelectorAll(this.i.h);this.S=this.v;this.C=null;this.filter="all";this.columnWidth=0;this.i={...this.i,...i};this.init()}Filtery.prototype={init:function(){window.addEventListener("load",function(){n.F();n.j();n.A();n.I();n.T()});let t;window.addEventListener("resize",function(){clearTimeout(t);t=setTimeout(function(){n.F();n.j();n.T()},100)})},F:function(){let t=Object.entries(this.i.l);if(!t.length)return;let n=window.innerWidth;let i=t.reduce(function(t,i){i[0]=parseInt(i[0]);return t[0]<=i[0]&&i[0]<n?i:t},[0,{}]);this.i={...this.i,...i[1]}},j:function(){let t=this.i.columns,i=this.columnWidth=(this.g.clientWidth-this.i.gap*(t-1))/t;this.v.forEach(function(t){t.style.width=i+"px"})},A:function(){this.g.style.position="relative";this.g.style.transition="all "+n.i.animationDuration+"ms ease";this.v.forEach(function(t){t.style.position="absolute";t.style.transform="scale3d(1, 1, 1)";t.style.opacity="1";t.style.top="0";t.style.left="0";t.style.transition="all "+n.i.animationDuration+"ms ease, width 0s"})},I:function(){if(this.p){this.filter=this.p.dataset[this.i.o]}else{this.p=this.m[0].classList.add("current");this.I()}this.m.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();n.k(this)})});n.k(this.p)},k:function(t){let i=t.dataset[this.i.o];if(i===this.filter)return;this.filter=i;this.p.classList.remove("current");t.classList.add("current");this.p=t;if(i==="all"){this.S=this.v;this.C=null}else{this.S=this.v.filter("[data-"+this.i.u+'="'+i+'"]');this.C=this.v.filter(":not([data-"+this.i.u+'="'+i+'"])')}this.T()},T:function(){let h=this.i.columns,o=this.columnWidth,f=Array(h).fill(0);let u=this.i.gap;if(this.C){this.C.forEach(function(t){t.classList.add("hidden-filtery-item")})}this.S.forEach(function(t){t.classList.remove("hidden-filtery-item")});this.S.forEach(function(t,i){let n=i%h,e=n*o,s=f[n];f[n]+=t.offsetHeight+u;t.style.left=(e?e+u*n:0)+"px";t.style.top=s+"px"});this.g.style.height=Math.max(...f)-u+"px"}};t.D=function(t,i){return new Filtery(t,i)};if(t.jQuery){var $=t.jQuery;$.fn.D=function(t){return this.each(function(){new Filtery($.makeArray(this)[0],t)})}}})();